<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:p="http://primefaces.org/ui" >
    
<ui:composition>

        <p:dialog id="ProfileDlg" widgetVar="resetDialog" modal="true" appendTo="@(body)" resizable="false" draggable="false" header="Cambiar Contraseña">
            
            <h:form id="resetPassForm">
                
                <p:panelGrid  id="idPanelGrid" columnClasses="column" columns="2">
                    
                    <h:outputText value="Usuario :"/>
                    <h:outputText styleClass="form-control" value="#{resetPasswMb.usuario.usuario}"/>
                    
                    <h:outputText value="Nueva Contraseña :"/>      
                    <p:password id="txtPassword1" styleClass="form-control" label="Password" value="#{resetPasswMb.newPass}" placeholder="Nueva Contraseña" 
                        feedback    = "true"  
                        inline      = "true"
                        promptLabel = "Introduzca su Contrasena"
                        weakLabel   = "Debil"
                        goodLabel   = "Medio" 
                        strongLabel = "Fuerte"
                        >
<!--                        <f:validateLength minimum="8" maximum="20" />-->
<!--                         <f:validateRegex pattern="((?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%]).{8,13})" />-->
<!--                         <p:message for="txtPassword1" />-->
                    </p:password>
                    
                    <h:outputText value="Confirmar Contraseña :"/>
                    <p:password id="txtPasswordConf" styleClass="form-control" label="ConfirPassword" value="#{resetPasswMb.confirmPass}" placeholder="Confirmar Contraseña" >
<!--                        <f:validateLength minimum="8" maximum="20" />
                         <p:message for="txtPasswordConf" />-->
                    </p:password>
                    
                    <f:facet name="footer">
                        <br/>
                        <div class="footer-right" align="center">
                            <p:commandButton icon="fa fa-close" styleClass="btn btn-primary btn-lg btn-block btn-flat" value="Cancelar" onclick="PF('resetDialog').hide()" immediate="true" onstart="PF('Loading').show()" onsuccess="PF('Loading').hide()"/>
                        </div>
                        
                        <div class="footer-right" >
                            <p:commandButton  actionListener="#{resetPasswMb.actualizaPass}"  icon="fa fa-check"  value="Confirmar" onclick="PF('resetDialog').hide()" update="idDlgConfimacionPass,@this" onstart="PF('Loading').show()" onsuccess="PF('Loading').hide()" />
                        </div>
                      <br/>
                    </f:facet>
                </p:panelGrid>
                                
            </h:form>
        </p:dialog>
        
          <p:dialog id="idDlgConfimacionPass" width="300"
                header="Confirmación" widgetVar="dialogConfirPass" modal="true" showEffect="fade" hideEffect="fade" resizable="false" position="center center">
                <h:panelGrid columns="1" cellpadding="5" width="100%">
                    <h4>#{resetPasswMb.mensaje}</h4>
                </h:panelGrid>
                <f:facet name="footer">
                    <div class="footer-section" align="center">
                        <center>
                            <h:form>
                            <p:commandButton icon="fa fa-check" value="Aceptar" actionListener="#{resetPasswMb.cerrarSession()}" onclick="PF('dialogConfirPass').hide()" immediate="true" onstart="PF('Loading').show()" onsuccess="PF('Loading').hide()"/>
                            </h:form>
                         </center>
                   </div>
                </f:facet>
            </p:dialog>
    </ui:composition>

</html>
